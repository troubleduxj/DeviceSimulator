# AI 提示词管理操作手册

本手册旨在指导您使用 IoT 数字孪生模拟器中的 AI 提示词管理功能。该模块允许您自定义生成式 AI (Gemini) 用于创建模拟数据、场景和分析报告的提示词。

## 1. 进入界面

1.  打开应用。
2.  导航至 **设置** (齿轮图标) -> **参数设置**。
3.  点击 **"AI Prompts"** (AI 提示词) 标签页。

## 2. 界面概览

界面主要分为两个区域：
*   **侧边栏 (左侧)**: 显示可用提示词列表。
    *   **刷新按钮**: 从服务器重新加载提示词。
    *   **Reset All to Defaults (重置所有为默认)**: 将所有提示词重置为出厂设置。**请谨慎使用。**
*   **编辑区域 (右侧)**:
    *   **顶部工具栏**:
        *   **Editor / History (编辑器/历史) 标签**: 在编辑模式和版本历史视图之间切换。
        *   **Reset Current (重置当前)**: 仅将*当前选中*的提示词重置为默认值。
        *   **Save (保存)**: 保存您的更改。
    *   **内容区**:
        *   **Key (键名)**: 提示词的系统唯一标识符 (只读)。
        *   **Description (描述)**: 该提示词功能的简要说明。
        *   **Template Editor (模板编辑器)**: 编辑提示词内容的主要文本区域。支持 `{{variable}}` 格式的占位符。

## 3. 编辑提示词

1.  从左侧侧边栏列表中选择一个提示词 (例如 `simulation_batch`)。
2.  确保您处于 **Editor** (编辑器) 标签页。
3.  根据需要修改 **Description** (描述) 或 **Prompt Template** (提示词模板)。
    *   *注意*: 除非您清楚自己在做什么，否则请小心不要删除必要的占位符 (如 `{{device_name}}`)，这可能导致 AI 生成失败。
4.  点击 **Save** (保存)。
    *   保存成功后，系统将在历史记录中自动创建一个新版本。

## 4. 重置单个提示词

如果您误操作并希望将特定提示词恢复到原始状态：
1.  选择该提示词。
2.  点击工具栏中的 **Reset Current** (重置当前) 按钮 (橙色图标)。
3.  在弹出的确认框中确认操作。
    *   该提示词将被重置为系统默认值。
    *   此操作也会被记录在历史版本中，因此如果需要，您可以通过 "Restore" (恢复) 功能撤销它。

## 5. 版本历史与恢复

每次保存或重置提示词时，系统都会自动保存一个版本快照。
1.  选择提示词。
2.  点击编辑器顶部的 **History** (历史) 标签。
3.  您将看到更改的时间轴列表。
    *   **Current (当前)**: 标记为当前正在使用的版本。
    *   **Older Versions (旧版本)**: 之前的历史状态，包含修改时间和备注。
4.  要恢复旧版本：
    *   在列表中找到您想要恢复的版本。
    *   点击旁边的 **Restore** (恢复) 按钮。
    *   确认操作。
    *   选中的版本将立即覆盖当前版本，成为生效版本。

## 6. 重置所有提示词

**警告**: 此操作将影响所有提示词，是一个全局重置操作。
1.  在侧边栏 (底部)，点击 **Reset All to Defaults** (重置所有为默认)。
2.  确认警告对话框。
3.  所有提示词都将恢复为出厂设置。所有自定义更改都将被覆盖。

## 7. 故障排除

*   **"No prompts found" (未找到提示词)**: 检查后端服务器是否正在运行。尝试点击侧边栏顶部的刷新按钮。
*   **Save Failed (保存失败)**: 检查您的网络连接或后端服务状态。
